# CRM System - Frontend

> Next.js 16 Frontend –¥–æ–¥–∞—Ç–æ–∫ –¥–ª—è —Å–∏—Å—Ç–µ–º–∏ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–ª—ñ—î–Ω—Ç–∞–º–∏ —Ç–∞ —É–≥–æ–¥–∞–º–∏

[![Next.js](https://img.shields.io/badge/Next.js-16-black)](https://nextjs.org/)
[![React](https://img.shields.io/badge/React-19-blue)](https://react.dev/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.0-blue)](https://www.typescriptlang.org/)
[![Tailwind](https://img.shields.io/badge/Tailwind-v4-38bdf8)](https://tailwindcss.com/)

---

## üìã –ó–º—ñ—Å—Ç

- [–û–≥–ª—è–¥](#-–æ–≥–ª—è–¥)
- [–¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó](#-—Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó)
- [–í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è](#-–≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è)
- [–ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è](#-–∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è)
- [–ó–∞–ø—É—Å–∫](#-–∑–∞–ø—É—Å–∫)
- [–°—Ç—Ä—É–∫—Ç—É—Ä–∞](#-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞)
- [Features](#-features)
- [Components](#-components)
- [–°—Ç–∏–ª—ñ–∑–∞—Ü—ñ—è](#-—Å—Ç–∏–ª—ñ–∑–∞—Ü—ñ—è)
- [State Management](#-state-management)

---

## üéØ –û–≥–ª—è–¥

–°—É—á–∞—Å–Ω–∏–π, responsive frontend –¥–ª—è CRM —Å–∏—Å—Ç–µ–º–∏, –ø–æ–±—É–¥–æ–≤–∞–Ω–∏–π –Ω–∞ Next.js 16 –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º App Router —Ç–∞ React 19.

### –ö–ª—é—á–æ–≤—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

- ‚úÖ **Next.js 16 App Router** - Server Components —Ç–∞ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó
- ‚úÖ **React 19** - –ù–∞–π–Ω–æ–≤—ñ—à–∞ –≤–µ—Ä—Å—ñ—è React
- ‚úÖ **TanStack Query** - –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Å–µ—Ä–≤–µ—Ä–Ω–∏–º —Å—Ç–∞–Ω–æ–º
- ‚úÖ **shadcn/ui** - –í–∏—Å–æ–∫–æ—è–∫—ñ—Å–Ω—ñ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏
- ‚úÖ **Tailwind CSS v4** - –°—É—á–∞—Å–Ω–∏–π utility-first CSS
- ‚úÖ **TypeScript** - –ü–æ–≤–Ω–∞ —Ç–∏–ø—ñ–∑–∞—Ü—ñ—è
- ‚úÖ **Dark Mode** - –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ —Ç–µ–º–Ω–æ—ó —Ç–µ–º–∏
- ‚úÖ **Responsive Design** - –ê–¥–∞–ø—Ç–∏–≤–Ω–∏–π –¥–∏–∑–∞–π–Ω
- ‚úÖ **Form Validation** - React Hook Form + Zod

---

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó

### Core
- **Framework**: Next.js 16 (App Router)
- **UI Library**: React 19
- **Language**: TypeScript 5
- **Styling**: Tailwind CSS v4
- **State**: TanStack Query (React Query) v5

### UI Components
- **Component Library**: shadcn/ui (Radix UI primitives)
- **Icons**: Lucide React
- **Notifications**: Sonner (Toast)
- **Theme**: next-themes

### Forms & Validation
- **Forms**: React Hook Form v7
- **Validation**: Zod v4
- **Resolvers**: @hookform/resolvers

### Data Fetching
- **HTTP Client**: Axios
- **Caching**: TanStack Query
- **Real-time Sync**: Query invalidation

### Development Tools
- **Linting**: ESLint v9
- **Package Manager**: npm
- **Build**: Next.js with Turbopack

---

## üì¶ –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

### –í–∏–º–æ–≥–∏

- Node.js 18+ (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ 22+)
- npm –∞–±–æ yarn
- Backend API –∑–∞–ø—É—â–µ–Ω–∏–π –Ω–∞ http://localhost:8000

### –ö—Ä–æ–∫–∏ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

```bash
# 1. –ü–µ—Ä–µ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—é frontend
cd frontend

# 2. –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
npm install

# 3. –°—Ç–≤–æ—Ä–∏—Ç–∏ environment —Ñ–∞–π–ª
cp .env.example .env.local

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç–∏ development —Å–µ—Ä–≤–µ—Ä
npm run dev
```

---

## ‚öôÔ∏è –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è

### Environment Variables

–°—Ç–≤–æ—Ä—ñ—Ç—å `.env.local` –Ω–∞ –æ—Å–Ω–æ–≤—ñ `.env.example`:

```env
# API Configuration
NEXT_PUBLIC_API_URL=http://localhost:8000/api
NEXT_PUBLIC_API_TIMEOUT=10000

# Application
NEXT_PUBLIC_APP_NAME=CRM System
NEXT_PUBLIC_APP_VERSION=1.0.0
NEXT_PUBLIC_APP_URL=http://localhost:3001
```

**–í–∞–∂–ª–∏–≤–æ:**
- –í Next.js –∑–º—ñ–Ω–Ω—ñ –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–∞ –º–∞—é—Ç—å –ø—Ä–µ—Ñ—ñ–∫—Å `NEXT_PUBLIC_`
- –ó–º—ñ–Ω–∏ –≤ `.env.local` –ø–æ—Ç—Ä–µ–±—É—é—Ç—å –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫—É —Å–µ—Ä–≤–µ—Ä–∞
- –ù–µ –∫–æ–º—ñ—Ç–∏—Ç–∏ `.env.local` –≤ Git

---

## üöÄ –ó–∞–ø—É—Å–∫

### Development

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–∏ dev —Å–µ—Ä–≤–µ—Ä
npm run dev
```

**–î–æ–¥–∞—Ç–æ–∫ –¥–æ—Å—Ç—É–ø–Ω–∏–π –Ω–∞:** http://localhost:3001

### Production

```bash
# Build –¥–ª—è production
npm run build

# –ó–∞–ø—É—Å—Ç–∏—Ç–∏ production —Å–µ—Ä–≤–µ—Ä
npm start
```

### –Ü–Ω—à—ñ –∫–æ–º–∞–Ω–¥–∏

```bash
# Linting
npm run lint

# Type checking
tsc --noEmit

# –û—á–∏—Å—Ç–∏—Ç–∏ .next
rm -rf .next
```

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
frontend/
‚îú‚îÄ‚îÄ app/                           # Next.js App Router
‚îÇ   ‚îú‚îÄ‚îÄ clients/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ [id]/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ page.tsx          # –î–µ—Ç–∞–ª—ñ –∫–ª—ñ—î–Ω—Ç–∞ (dynamic route)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ page.tsx               # –°–ø–∏—Å–æ–∫ –∫–ª—ñ—î–Ω—Ç—ñ–≤
‚îÇ   ‚îú‚îÄ‚îÄ deals/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ page.tsx               # –°–ø–∏—Å–æ–∫ —É–≥–æ–¥
‚îÇ   ‚îú‚îÄ‚îÄ layout.tsx                 # Root layout
‚îÇ   ‚îú‚îÄ‚îÄ page.tsx                   # Home page
‚îÇ   ‚îî‚îÄ‚îÄ globals.css                # Global styles
‚îÇ
‚îú‚îÄ‚îÄ components/                    # React Components
‚îÇ   ‚îú‚îÄ‚îÄ clients/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ clients-table.tsx     # –¢–∞–±–ª–∏—Ü—è –∫–ª—ñ—î–Ω—Ç—ñ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ client-form.tsx       # –§–æ—Ä–º–∞ –∫–ª—ñ—î–Ω—Ç–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ create-client-dialog.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ edit-client-dialog.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ delete-client-dialog.tsx
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ deals/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ deals-table.tsx       # –¢–∞–±–ª–∏—Ü—è —É–≥–æ–¥
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ deals-filters.tsx     # –§—ñ–ª—å—Ç—Ä–∏ —É–≥–æ–¥
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ deal-form.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ create-deal-dialog.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ edit-deal-dialog.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ delete-deal-dialog.tsx
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ common/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ pagination-controls.tsx
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ layout/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main-layout.tsx       # –û—Å–Ω–æ–≤–Ω–∏–π layout
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ header.tsx            # Header –∑ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—î—é
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ theme-toggle.tsx      # –ü–µ—Ä–µ–º–∏–∫–∞—á —Ç–µ–º–∏
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ ui/                        # shadcn/ui components
‚îÇ       ‚îú‚îÄ‚îÄ button.tsx
‚îÇ       ‚îú‚îÄ‚îÄ dialog.tsx
‚îÇ       ‚îú‚îÄ‚îÄ form.tsx
‚îÇ       ‚îú‚îÄ‚îÄ input.tsx
‚îÇ       ‚îú‚îÄ‚îÄ select.tsx
‚îÇ       ‚îú‚îÄ‚îÄ table.tsx
‚îÇ       ‚îî‚îÄ‚îÄ ... (—ñ–Ω—à—ñ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏)
‚îÇ
‚îú‚îÄ‚îÄ hooks/                         # Custom React Hooks
‚îÇ   ‚îú‚îÄ‚îÄ useClients.ts             # React Query hooks –¥–ª—è –∫–ª—ñ—î–Ω—Ç—ñ–≤
‚îÇ   ‚îî‚îÄ‚îÄ useDeals.ts               # React Query hooks –¥–ª—è —É–≥–æ–¥
‚îÇ
‚îú‚îÄ‚îÄ lib/                          # Utilities
‚îÇ   ‚îú‚îÄ‚îÄ api.ts                    # Axios client + API functions
‚îÇ   ‚îú‚îÄ‚îÄ utils.ts                  # Helper functions (cn, etc.)
‚îÇ   ‚îî‚îÄ‚îÄ validations.ts            # Zod schemas
‚îÇ
‚îú‚îÄ‚îÄ providers/                    # React Providers
‚îÇ   ‚îú‚îÄ‚îÄ query-provider.tsx        # TanStack Query provider
‚îÇ   ‚îú‚îÄ‚îÄ theme-provider.tsx        # next-themes provider
‚îÇ   ‚îî‚îÄ‚îÄ index.tsx                 # Combined providers
‚îÇ
‚îú‚îÄ‚îÄ types/                        # TypeScript Types
‚îÇ   ‚îî‚îÄ‚îÄ index.ts                  # Shared types (Client, Deal, etc.)
‚îÇ
‚îú‚îÄ‚îÄ .env.example
‚îú‚îÄ‚îÄ .env.local                    # Local environment (gitignored)
‚îú‚îÄ‚îÄ components.json               # shadcn/ui config
‚îú‚îÄ‚îÄ next.config.ts
‚îú‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ tailwind.config.ts
‚îú‚îÄ‚îÄ tsconfig.json
‚îî‚îÄ‚îÄ README.md
```

---

## ‚ö° Features

### –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–ª—ñ—î–Ω—Ç–∞–º–∏

**–°—Ç–æ—Ä—ñ–Ω–∫–∞**: `/clients`

- ‚úÖ –°–ø–∏—Å–æ–∫ –∫–ª—ñ—î–Ω—Ç—ñ–≤ –∑ –ø–∞–≥—ñ–Ω–∞—Ü—ñ—î—é
- ‚úÖ –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–æ–≥–æ –∫–ª—ñ—î–Ω—Ç–∞
- ‚úÖ –†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è —ñ—Å–Ω—É—é—á–æ–≥–æ –∫–ª—ñ—î–Ω—Ç–∞
- ‚úÖ –í–∏–¥–∞–ª–µ–Ω–Ω—è –∫–ª—ñ—î–Ω—Ç–∞ (–∑ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è–º)
- ‚úÖ –ü–µ—Ä–µ—Ö—ñ–¥ –¥–æ –¥–µ—Ç–∞–ª–µ–π –∫–ª—ñ—î–Ω—Ç–∞
- ‚úÖ Items per page (10, 20, 50, 100)

**–°—Ç–æ—Ä—ñ–Ω–∫–∞ –¥–µ—Ç–∞–ª–µ–π**: `/clients/[id]`

- ‚úÖ –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ–π–Ω–∞ –∫–∞—Ä—Ç–∫–∞ –∫–ª—ñ—î–Ω—Ç–∞
- ‚úÖ Breadcrumb –Ω–∞–≤—ñ–≥–∞—Ü—ñ—è
- ‚úÖ –°–ø–∏—Å–æ–∫ —É—Å—ñ—Ö —É–≥–æ–¥ –∫–ª—ñ—î–Ω—Ç–∞
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "–î–æ–¥–∞—Ç–∏ —É–≥–æ–¥—É" (–∑ pre-filled clientId)
- ‚úÖ –†–µ–¥–∞–≥—É–≤–∞—Ç–∏ / –í–∏–¥–∞–ª–∏—Ç–∏ –∫–ª—ñ—î–Ω—Ç–∞
- ‚úÖ 404 –æ–±—Ä–æ–±–∫–∞

### –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —É–≥–æ–¥–∞–º–∏

**–°—Ç–æ—Ä—ñ–Ω–∫–∞**: `/deals`

- ‚úÖ –°–ø–∏—Å–æ–∫ —É–≥–æ–¥ –∑ –ø–∞–≥—ñ–Ω–∞—Ü—ñ—î—é
- ‚úÖ –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –∑–∞ —Å—Ç–∞—Ç—É—Å–æ–º (NEW, IN_PROGRESS, WON, LOST)
- ‚úÖ –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –∑–∞ –∫–ª—ñ—î–Ω—Ç–æ–º
- ‚úÖ –ö–æ–º–±—ñ–Ω–æ–≤–∞–Ω—ñ —Ñ—ñ–ª—å—Ç—Ä–∏
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "–°–∫–∏–Ω—É—Ç–∏ —Ñ—ñ–ª—å—Ç—Ä–∏"
- ‚úÖ URL —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è (`?status=NEW&clientId=xxx`)
- ‚úÖ –°—Ç–≤–æ—Ä–µ–Ω–Ω—è / –†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è / –í–∏–¥–∞–ª–µ–Ω–Ω—è —É–≥–æ–¥–∏
- ‚úÖ –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ –∫–ª—ñ—î–Ω—Ç–∞

### UI/UX

- ‚úÖ **Dark Mode**: –°–≤—ñ—Ç–ª–∞ / –¢–µ–º–Ω–∞ / –°–∏—Å—Ç–µ–º–Ω–∞ —Ç–µ–º–∞
- ‚úÖ **Responsive**: Mobile, Tablet, Desktop
- ‚úÖ **Loading States**: Skeleton loaders
- ‚úÖ **Toast Notifications**: –£—Å–ø—ñ—Ö / –ü–æ–º–∏–ª–∫–∏
- ‚úÖ **Form Validation**: Real-time –≤–∞–ª—ñ–¥–∞—Ü—ñ—è –∑ –ø–æ–º–∏–ª–∫–∞–º–∏
- ‚úÖ **Dropdown Actions**: –¢—Ä–∏ –∫—Ä–∞–ø–∫–∏ –º–µ–Ω—é –¥–ª—è –¥—ñ–π
- ‚úÖ **Status Badges**: –ö–æ–ª—å–æ—Ä–æ–≤—ñ badges –¥–ª—è —Å—Ç–∞—Ç—É—Å—ñ–≤

---

## üß© Components

### Client Components

#### ClientsTable
–í—ñ–¥–æ–±—Ä–∞–∂–∞—î —Å–ø–∏—Å–æ–∫ –∫–ª—ñ—î–Ω—Ç—ñ–≤ –≤ —Ç–∞–±–ª–∏—Ü—ñ.

**Props:**
```typescript
{
  clients: Client[];
  isLoading?: boolean;
}
```

#### ClientForm
–§–æ—Ä–º–∞ –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è/—Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –∫–ª—ñ—î–Ω—Ç–∞ –∑ –≤–∞–ª—ñ–¥–∞—Ü—ñ—î—é.

**Props:**
```typescript
{
  mode: 'create' | 'edit';
  initialData?: Client;
  onSubmit: (data: CreateClientInput) => Promise<void>;
  onCancel: () => void;
  isLoading?: boolean;
}
```

#### CreateClientDialog
Dialog –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–ª—ñ—î–Ω—Ç–∞.

#### EditClientDialog
Dialog –¥–ª—è —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –∫–ª—ñ—î–Ω—Ç–∞.

**Props:**
```typescript
{
  client: Client;
}
```

#### DeleteClientDialog
Dialog –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –≤–∏–¥–∞–ª–µ–Ω–Ω—è –∑ –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è–º –ø—Ä–æ —É–≥–æ–¥–∏.

**Props:**
```typescript
{
  client: Client;
  onDeleteSuccess?: () => void;
}
```

### Deal Components

#### DealsTable
–¢–∞–±–ª–∏—Ü—è —É–≥–æ–¥ –∑ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—î—é –ø—Ä–æ –∫–ª—ñ—î–Ω—Ç–∞.

**Props:**
```typescript
{
  deals: Deal[];
  isLoading?: boolean;
}
```

#### DealsFilters
–ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Ñ—ñ–ª—å—Ç—Ä—ñ–≤ (—Å—Ç–∞—Ç—É—Å + –∫–ª—ñ—î–Ω—Ç).

**Features:**
- Select —Å—Ç–∞—Ç—É—Å—É
- Select –∫–ª—ñ—î–Ω—Ç–∞
- –ö–Ω–æ–ø–∫–∞ "–°–∫–∏–Ω—É—Ç–∏"
- URL —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è

#### DealForm
–§–æ—Ä–º–∞ —É–≥–æ–¥–∏ –∑ –≤–∞–ª—ñ–¥–∞—Ü—ñ—î—é.

**Props:**
```typescript
{
  mode: 'create' | 'edit';
  initialData?: CreateDealInput;
  onSubmit: (data: CreateDealInput) => Promise<void>;
  onCancel: () => void;
  isLoading?: boolean;
}
```

### Common Components

#### PaginationControls
–£–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–∞–≥—ñ–Ω–∞—Ü—ñ—ó.

**Props:**
```typescript
{
  page: number;
  totalPages: number;
  onPageChange: (page: number) => void;
  itemsPerPage?: number;
  onItemsPerPageChange?: (items: number) => void;
  showItemsPerPage?: boolean;
}
```

### Layout Components

#### Header
–ù–∞–≤—ñ–≥–∞—Ü—ñ—è –∑ –ª–æ–≥–æ—Ç–∏–ø–æ–º, –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º–∏ —Ç–∞ theme toggle.

#### ThemeToggle
Dropdown –¥–ª—è –≤–∏–±–æ—Ä—É —Ç–µ–º–∏ (Light / Dark / System).

---

## üé® –°—Ç–∏–ª—ñ–∑–∞—Ü—ñ—è

### Tailwind CSS v4

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è Tailwind CSS v4 –∑:
- **Utility-first** –ø—ñ–¥—Ö—ñ–¥
- **Dark mode**: Class-based
- **Responsive**: Mobile-first breakpoints
- **Custom colors**: Defined in `tailwind.config.ts`

### shadcn/ui

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è shadcn/ui –¥–ª—è UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤:
- **Radix UI** primitives (headless components)
- **Tailwind v4** –¥–ª—è —Å—Ç–∏–ª—ñ–≤
- **Accessible** (ARIA, keyboard navigation)
- **Customizable**: –ö–æ–¥ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤ –≤ –ø—Ä–æ–µ–∫—Ç—ñ

### CSS Variables

–ö–æ–ª—å–æ—Ä–∏ –≤–∏–∑–Ω–∞—á–µ–Ω—ñ —á–µ—Ä–µ–∑ CSS –∑–º—ñ–Ω–Ω—ñ –≤ `globals.css`:

```css
:root {
  --background: ...;
  --foreground: ...;
  --primary: ...;
  /* ... */
}

.dark {
  --background: ...;
  /* Dark theme colors */
}
```

### –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

```tsx
// Tailwind utilities
<div className="flex items-center gap-4 p-4">

// Responsive
<div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3">

// Dark mode
<div className="bg-white dark:bg-gray-900">

// Custom utility (lib/utils.ts)
import { cn } from '@/lib/utils';
<div className={cn("base-class", condition && "conditional-class")}>
```

---

## üìä State Management

### TanStack Query (React Query)

–í—Å—è —Ä–æ–±–æ—Ç–∞ –∑ —Å–µ—Ä–≤–µ—Ä–Ω–∏–º —Å—Ç–∞–Ω–æ–º —á–µ—Ä–µ–∑ React Query:

**–ü–µ—Ä–µ–≤–∞–≥–∏:**
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –∫–µ—à—É–≤–∞–Ω–Ω—è
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è (refetch)
- ‚úÖ Optimistic updates
- ‚úÖ Query invalidation
- ‚úÖ Loading / Error states
- ‚úÖ Retry logic

### Hooks Structure

**Pattern**: API Layer ‚Üí React Query Hooks ‚Üí Components

#### useClients Hook

```typescript
// Get list (paginated)
const { data, isLoading, error } = useClients({ page, limit });

// Get single client
const { data: client } = useClient(id);

// Create client
const createClient = useCreateClient();
await createClient.mutateAsync(data);

// Update client
const updateClient = useUpdateClient();
await updateClient.mutateAsync({ id, data });

// Delete client
const deleteClient = useDeleteClient();
await deleteClient.mutateAsync(id);
```

#### useDeals Hook

```typescript
// Get list (with filters)
const { data } = useDeals({ page, limit, status, clientId });

// Get single deal
const { data: deal } = useDeal(id);

// Mutations
const createDeal = useCreateDeal();
const updateDeal = useUpdateDeal();
const deleteDeal = useDeleteDeal();
```

### Cache Invalidation

–ü—ñ—Å–ª—è –º—É—Ç–∞—Ü—ñ–π –∫–µ—à –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —ñ–Ω–≤–∞–ª—ñ–¥—É—î—Ç—å—Å—è:

```typescript
// Example: After creating client
onSuccess: () => {
  queryClient.invalidateQueries({ queryKey: ['clients'] });
  toast.success('–ö–ª—ñ—î–Ω—Ç–∞ —É—Å–ø—ñ—à–Ω–æ —Å—Ç–≤–æ—Ä–µ–Ω–æ');
}
```

### URL State

–§—ñ–ª—å—Ç—Ä–∏ —Ç–∞ –ø–∞–≥—ñ–Ω–∞—Ü—ñ—è –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ URL:

```typescript
const searchParams = useSearchParams();
const page = Number(searchParams.get('page')) || 1;
const status = searchParams.get('status');

// Update URL
const params = new URLSearchParams();
params.set('page', '2');
params.set('status', 'NEW');
router.push(`?${params.toString()}`);
```

---

## üìù Forms & Validation

### React Hook Form + Zod

```typescript
// Schema definition (Zod)
const clientSchema = z.object({
  name: z.string().min(2, '–ú—ñ–Ω—ñ–º—É–º 2 —Å–∏–º–≤–æ–ª–∏'),
  email: z.string().email('–ù–µ–≤—ñ—Ä–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç email'),
  phone: z.string().optional(),
});

// Form usage
const form = useForm({
  resolver: zodResolver(clientSchema),
  defaultValues: { name: '', email: '', phone: '' },
});

const onSubmit = async (data) => {
  await createClient.mutateAsync(data);
};
```

### Validation Rules

**Client:**
- Name: Required, min 2 chars
- Email: Required, valid email format
- Phone: Optional

**Deal:**
- Title: Required, min 3 chars
- Amount: Required, positive number
- Status: Required, one of enum values
- ClientId: Required, valid UUID

---

## üåê API Integration

### Axios Client

–ù–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π Axios client –≤ `lib/api.ts`:

```typescript
const apiClient = axios.create({
  baseURL: process.env.NEXT_PUBLIC_API_URL,
  timeout: 10000,
  headers: { 'Content-Type': 'application/json' },
});

// Error interceptor
apiClient.interceptors.response.use(
  (response) => response,
  (error) => {
    // Handle errors
    throw error.response?.data || error;
  }
);
```

### API Functions

```typescript
// clientsApi
export const clientsApi = {
  getAll: (params) => apiClient.get('/clients', { params }),
  getById: (id) => apiClient.get(`/clients/${id}`),
  create: (data) => apiClient.post('/clients', data),
  update: (id, data) => apiClient.patch(`/clients/${id}`, data),
  delete: (id) => apiClient.delete(`/clients/${id}`),
};

// dealsApi
export const dealsApi = {
  getAll: (params) => apiClient.get('/deals', { params }),
  // ... similar structure
};
```

---

## üß™ Testing Guide

Manual testing checklist: [FRONTEND_TESTING_GUIDE.md](FRONTEND_TESTING_GUIDE.md)

**–û—Å–Ω–æ–≤–Ω—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó:**
- [ ] Navigation –º—ñ–∂ —Å—Ç–æ—Ä—ñ–Ω–∫–∞–º–∏
- [ ] –°—Ç–≤–æ—Ä–µ–Ω–Ω—è / –†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è / –í–∏–¥–∞–ª–µ–Ω–Ω—è –∫–ª—ñ—î–Ω—Ç–∞
- [ ] –°—Ç–≤–æ—Ä–µ–Ω–Ω—è / –†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è / –í–∏–¥–∞–ª–µ–Ω–Ω—è —É–≥–æ–¥–∏
- [ ] –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è —É–≥–æ–¥
- [ ] –ü–∞–≥—ñ–Ω–∞—Ü—ñ—è
- [ ] Form validation
- [ ] Loading states
- [ ] Responsive design
- [ ] Dark mode

---

## üöÄ Deployment

### Vercel (Recommended)

```bash
# Install Vercel CLI
npm i -g vercel

# Deploy
vercel --prod
```

**Environment Variables** –≤ Vercel:
- `NEXT_PUBLIC_API_URL` ‚Üí Production API URL
- `NEXT_PUBLIC_APP_URL` ‚Üí Production app URL

### Docker

```bash
# Build image
docker build -t crm-frontend .

# Run container
docker run -p 3001:3001 -e NEXT_PUBLIC_API_URL=http://api:8000/api crm-frontend
```

### Manual Deployment

```bash
# Build
npm run build

# Start
npm start

# Or with PM2
pm2 start npm --name "crm-frontend" -- start
```

---

## üêõ Troubleshooting

### Cannot connect to API

```bash
# Check .env.local
cat .env.local

# Verify backend is running
curl http://localhost:8000/api/clients

# Check CORS settings in backend
```

### Hydration errors

```bash
# Use suppressHydrationWarning in <html> tag (already done)
# Check for localStorage/theme issues
```

### Build errors

```bash
# Clear .next folder
rm -rf .next

# Reinstall dependencies
rm -rf node_modules package-lock.json
npm install

# Try building again
npm run build
```

---

## üìö Resources

### Documentation
- [Next.js Docs](https://nextjs.org/docs)
- [React Query Docs](https://tanstack.com/query/latest)
- [shadcn/ui](https://ui.shadcn.com/)
- [Tailwind CSS](https://tailwindcss.com/docs)

### Tutorials
- Next.js App Router
- React Server Components
- TanStack Query v5

---

**Created with ‚ù§Ô∏è using Next.js**

[‚Üê Back to Main README](../README.md)
