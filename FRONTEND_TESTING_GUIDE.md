# Frontend Testing Guide - Phase 7.2

**Мета**: Перевірити всі функції frontend додатку
**Статус**: Manual Testing Checklist
**Дата**: 2025-11-26

---

## Підготовка до тестування

### 1. Запустити Backend
```bash
cd backend
npm run dev
# Backend повинен працювати на http://localhost:8000
```

### 2. Запустити Frontend
```bash
cd frontend
npm run dev
# Frontend повинен працювати на http://localhost:3001
```

### 3. Відкрити додаток
- Відкрити http://localhost:3001 в браузері
- Відкрити DevTools (F12) для перевірки консолі та Network

---

## ✅ Тест 1: Navigation працює

### Перевірити навігацію між сторінками

**Кроки:**
1. [ ] Відкрити головну сторінку http://localhost:3001
2. [ ] Клікнути на "Клієнти" в header
   - ✅ URL змінюється на `/clients`
   - ✅ Відображається список клієнтів або порожній стан
   - ✅ Посилання "Клієнти" стає активним (темніший текст)
3. [ ] Клікнути на "Угоди" в header
   - ✅ URL змінюється на `/deals`
   - ✅ Відображається список угод або порожній стан
   - ✅ Посилання "Угоди" стає активним
4. [ ] Клікнути на "CRM System" (логотип)
   - ✅ URL змінюється на `/`
   - ✅ Відображається головна сторінка
5. [ ] Використати кнопку "Назад" в браузері
   - ✅ Навігація працює коректно
6. [ ] Використати кнопку "Вперед" в браузері
   - ✅ Навігація працює коректно

**Очікувані результати:**
- Навігація плавна без перезавантаження сторінки (SPA)
- URL в адресному рядку оновлюється
- Активне посилання виділяється візуально
- Кнопки браузера працюють коректно

---

## ✅ Тест 2: Створення клієнта через форму

### Сценарій: Успішне створення клієнта

**Кроки:**
1. [ ] Перейти на сторінку `/clients`
2. [ ] Клікнути кнопку "Додати клієнта" (або іконка Plus)
3. [ ] Відкривається діалогове вікно "Створити клієнта"
4. [ ] Заповнити форму:
   - **Ім'я**: Test Client
   - **Email**: test@example.com
   - **Телефон**: +380971234567
5. [ ] Клікнути "Створити"
6. [ ] Перевірити результат:
   - ✅ Діалог закривається
   - ✅ Показується успішне повідомлення (toast): "Клієнта успішно створено"
   - ✅ Новий клієнт з'являється в таблиці
   - ✅ Всі поля відображаються коректно
   - ✅ Дата створення відображається

**Очікувані результати:**
- Форма працює без помилок
- Клієнт створюється в базі даних
- UI оновлюється автоматично без перезавантаження

### Сценарій: Створення клієнта без телефону (optional field)

**Кроки:**
1. [ ] Клікнути "Додати клієнта"
2. [ ] Заповнити тільки:
   - **Ім'я**: Client Without Phone
   - **Email**: nophone@example.com
3. [ ] Клікнути "Створити"
4. [ ] Перевірити:
   - ✅ Клієнт створюється успішно
   - ✅ В таблиці телефон відображається як "—" або пусто

---

## ✅ Тест 3: Редагування клієнта

### Сценарій: Успішне редагування

**Кроки:**
1. [ ] В таблиці клієнтів знайти будь-якого клієнта
2. [ ] Клікнути кнопку "Редагувати" (іконка олівця) або три крапки → Редагувати
3. [ ] Відкривається діалог "Редагувати клієнта"
4. [ ] Перевірити, що поля заповнені поточними даними
5. [ ] Змінити ім'я на: "Updated Client Name"
6. [ ] Змінити телефон на: "+380991234567"
7. [ ] Клікнути "Зберегти"
8. [ ] Перевірити:
   - ✅ Діалог закривається
   - ✅ Toast: "Клієнта успішно оновлено"
   - ✅ В таблиці відображаються оновлені дані
   - ✅ Email залишився незмінним

**Сценарій: Скасування редагування**

**Кроки:**
1. [ ] Клікнути "Редагувати" на клієнті
2. [ ] Змінити якісь поля
3. [ ] Клікнути "Скасувати"
4. [ ] Перевірити:
   - ✅ Діалог закривається
   - ✅ Дані НЕ змінилися в таблиці

---

## ✅ Тест 4: Видалення клієнта (з confirmation)

### Сценарій: Успішне видалення

**Кроки:**
1. [ ] Створити нового клієнта для видалення
2. [ ] Клікнути кнопку "Видалити" (trash icon) або три крапки → Видалити
3. [ ] Відкривається діалог підтвердження
4. [ ] Перевірити текст діалогу:
   - ✅ Містить ім'я клієнта
   - ✅ Містить попередження про видалення угод
   - ✅ Текст: "Увага: Всі пов'язані угоди також будуть видалені"
5. [ ] Клікнути "Видалити"
6. [ ] Перевірити:
   - ✅ Діалог закривається
   - ✅ Toast: "Клієнта успішно видалено"
   - ✅ Клієнт зникає з таблиці

**Сценарій: Скасування видалення**

**Кроки:**
1. [ ] Клікнути "Видалити" на клієнті
2. [ ] Клікнути "Скасувати" в діалозі
3. [ ] Перевірити:
   - ✅ Діалог закривається
   - ✅ Клієнт залишається в таблиці

---

## ✅ Тест 5: Фільтрація угод

### Тест 5.1: Фільтр за статусом

**Підготовка:**
- Створити кілька угод з різними статусами (NEW, IN_PROGRESS, WON, LOST)

**Кроки:**
1. [ ] Перейти на `/deals`
2. [ ] Відкрити dropdown "Статус"
3. [ ] Вибрати "Нова"
4. [ ] Перевірити:
   - ✅ URL оновлюється: `/deals?status=NEW`
   - ✅ В таблиці тільки угоди зі статусом "Нова"
   - ✅ Фільтр відображає вибраний статус
5. [ ] Вибрати інші статуси:
   - "В роботі" → тільки IN_PROGRESS угоди
   - "Виграна" → тільки WON угоди
   - "Програна" → тільки LOST угоди
6. [ ] Вибрати "Всі статуси"
   - ✅ Відображаються всі угоди
   - ✅ URL: `/deals` (без параметра status)

### Тест 5.2: Фільтр за клієнтом

**Кроки:**
1. [ ] На `/deals` відкрити dropdown "Клієнт"
2. [ ] Вибрати конкретного клієнта
3. [ ] Перевірити:
   - ✅ URL: `/deals?clientId={uuid}`
   - ✅ Показуються тільки угоди цього клієнта
4. [ ] Вибрати "Всі клієнти"
   - ✅ Відображаються всі угоди

### Тест 5.3: Комбінований фільтр

**Кроки:**
1. [ ] Вибрати статус "Нова"
2. [ ] Вибрати конкретного клієнта
3. [ ] Перевірити:
   - ✅ URL: `/deals?status=NEW&clientId={uuid}`
   - ✅ Показуються тільки нові угоди цього клієнта
4. [ ] Клікнути "Скинути фільтри"
   - ✅ Всі фільтри скидаються
   - ✅ URL: `/deals`
   - ✅ Показуються всі угоди

---

## ✅ Тест 6: Pagination

### Тест 6.1: Базова пагінація

**Підготовка:**
- Переконатися, що є >10 клієнтів або угод

**Кроки:**
1. [ ] Перейти на `/clients`
2. [ ] Перевірити внизу сторінки:
   - ✅ Показано "Сторінка 1 з X"
   - ✅ Є кнопки Previous/Next
   - ✅ Є номери сторінок
3. [ ] Клікнути "Next" або "2"
4. [ ] Перевірити:
   - ✅ URL: `/clients?page=2`
   - ✅ Показуються інші клієнти
   - ✅ Текст "Сторінка 2 з X"
   - ✅ Кнопка "2" активна
5. [ ] Клікнути "Previous"
   - ✅ Повернення на сторінку 1
   - ✅ URL: `/clients?page=1` або `/clients`

### Тест 6.2: Items per page

**Кроки:**
1. [ ] Знайти dropdown "Показати: 10"
2. [ ] Змінити на "20"
3. [ ] Перевірити:
   - ✅ URL: `/clients?limit=20`
   - ✅ В таблиці до 20 елементів
   - ✅ Кількість сторінок зменшилася
4. [ ] Змінити на "50"
   - ✅ Показується до 50 елементів
5. [ ] Повернути на "10"

### Тест 6.3: URL sharing

**Кроки:**
1. [ ] Перейти на `/clients?page=3&limit=20`
2. [ ] Перезавантажити сторінку (F5)
3. [ ] Перевірити:
   - ✅ Залишається на сторінці 3
   - ✅ Показується 20 елементів на сторінку
   - ✅ Pagination працює коректно

---

## ✅ Тест 7: Form validation errors

### Тест 7.1: Порожня форма клієнта

**Кроки:**
1. [ ] Відкрити форму "Створити клієнта"
2. [ ] Не заповнювати поля
3. [ ] Клікнути "Створити"
4. [ ] Перевірити:
   - ✅ Форма НЕ відправляється
   - ✅ Показуються помилки під полями:
     - "Ім'я обов'язкове" або подібне
     - "Email обов'язковий"
   - ✅ Поля з помилками виділені червоним

### Тест 7.2: Невалідний email

**Кроки:**
1. [ ] Заповнити форму:
   - Ім'я: Test
   - Email: invalid-email (без @)
2. [ ] Клікнути "Створити"
3. [ ] Перевірити:
   - ✅ Показується помилка: "Невірний формат email"
   - ✅ Поле email виділене червоним

### Тест 7.3: Дублікат email

**Кроки:**
1. [ ] Створити клієнта з email: duplicate@test.com
2. [ ] Спробувати створити іншого клієнта з тим же email
3. [ ] Клікнути "Створити"
4. [ ] Перевірити:
   - ✅ Toast з помилкою: "Email вже використовується"
   - ✅ Форма залишається відкритою

### Тест 7.4: Невалідні дані угоди

**Кроки:**
1. [ ] Відкрити форму "Створити угоду"
2. [ ] Спробувати ввести від'ємну суму: -1000
3. [ ] Перевірити:
   - ✅ Показується помилка валідації
4. [ ] Очистити всі поля
5. [ ] Клікнути "Створити"
6. [ ] Перевірити:
   - ✅ Помилки для всіх обов'язкових полів

---

## ✅ Тест 8: Loading states

### Тест 8.1: Skeleton loaders

**Кроки:**
1. [ ] Відкрити DevTools → Network tab
2. [ ] Встановити throttling: "Slow 3G"
3. [ ] Перейти на `/clients`
4. [ ] Перевірити під час завантаження:
   - ✅ Показуються skeleton placeholders (сірі анімовані блоки)
   - ✅ Skeleton має схожу структуру до таблиці
5. [ ] Зачекати завантаження
   - ✅ Skeleton замінюється реальними даними
6. [ ] Повторити для `/deals`

### Тест 8.2: Button loading states

**Кроки:**
1. [ ] Встановити "Slow 3G"
2. [ ] Відкрити форму створення клієнта
3. [ ] Заповнити і клікнути "Створити"
4. [ ] Під час відправки перевірити:
   - ✅ Кнопка показує "Створення..." або spinner
   - ✅ Кнопка disabled (неактивна)
   - ✅ Не можна клікнути повторно
5. [ ] Після успіху:
   - ✅ Кнопка повертається в нормальний стан
   - ✅ Форма закривається

### Тест 8.3: Page transitions

**Кроки:**
1. [ ] Встановити "Slow 3G"
2. [ ] Перейти з `/clients` на `/deals`
3. [ ] Перевірити:
   - ✅ Показується loading indicator
   - ✅ Старий контент не блимає
   - ✅ Плавний перехід

---

## ✅ Тест 9: Responsive design

### Тест 9.1: Desktop (≥1024px)

**Кроки:**
1. [ ] Відкрити в повноекранному режимі
2. [ ] Перевірити:
   - ✅ Header розтягується на всю ширину
   - ✅ Таблиці показують всі колонки
   - ✅ Кнопки розміщені зручно
   - ✅ Форми не занадто широкі (max-width)

### Тест 9.2: Tablet (768px - 1023px)

**Кроки:**
1. [ ] Відкрити DevTools → Toggle device toolbar
2. [ ] Вибрати iPad або встановити ширину 768px
3. [ ] Перевірити:
   - ✅ Header працює коректно
   - ✅ Таблиці адаптуються або скролляться
   - ✅ Кнопки доступні
   - ✅ Діалоги відображаються коректно

### Тест 9.3: Mobile (≤767px)

**Кроки:**
1. [ ] Вибрати iPhone або встановити ширину 375px
2. [ ] Перевірити всі сторінки:
   - ✅ Navigation працює (можливо burger menu)
   - ✅ Таблиці адаптуються або стають картками
   - ✅ Форми займають всю ширину
   - ✅ Кнопки доступні та зручні
   - ✅ Текст читабельний
3. [ ] Перевірити форми:
   - ✅ Inputs зручно натискати (достатній розмір)
   - ✅ Dropdowns працюють
4. [ ] Перевірити діалоги:
   - ✅ Займають більшу частину екрану
   - ✅ Зручно закривати

### Тест 9.4: Touch interactions

**Кроки (на мобільному пристрої або емуляції):**
1. [ ] Перевірити dropdown меню:
   - ✅ Легко відкрити тапом
   - ✅ Зручно вибрати опцію
2. [ ] Перевірити кнопки:
   - ✅ Достатній розмір (≥44x44px)
   - ✅ Є відступи між кнопками
3. [ ] Перевірити таблиці:
   - ✅ Можна скролити горизонтально
   - ✅ Dropdown actions працює

---

## ✅ Тест 10: Dark Mode (Bonus)

### Тест темної теми

**Кроки:**
1. [ ] Знайти кнопку перемикання теми в header
2. [ ] Клікнути іконку сонця/місяця
3. [ ] Вибрати "Темна"
4. [ ] Перевірити:
   - ✅ Весь UI переключається на темну тему
   - ✅ Текст читабельний на темному фоні
   - ✅ Кольори адаптовані
   - ✅ Кнопки виглядають коректно
5. [ ] Перезавантажити сторінку
   - ✅ Тема зберігається
6. [ ] Вибрати "Світла"
   - ✅ Повернення до світлої теми
7. [ ] Вибрати "Системна"
   - ✅ Використовується тема ОС

---

## Критерії успіху

### Всі тести пройдені якщо:
- ✅ Навігація працює без помилок
- ✅ Всі CRUD операції працюють
- ✅ Форми валідуються коректно
- ✅ Loading states відображаються
- ✅ Фільтри та пагінація працюють
- ✅ Responsive на всіх пристроях
- ✅ Немає помилок в консолі браузера
- ✅ UI/UX зручний та інтуїтивний

### Поширені проблеми для перевірки:
- [ ] Консоль браузера без помилок
- [ ] Network requests успішні (200, 201, 204)
- [ ] Немає блимання при завантаженні
- [ ] Toast повідомлення з'являються і зникають
- [ ] Форми очищаються після submit
- [ ] URL синхронізується з UI state

---

## Звіт про тестування

Після завершення всіх тестів заповніть:

**Дата тестування**: _______________
**Браузер**: _______________
**Тестувальник**: _______________

**Результати**:
- Пройдено тестів: ___ / 9
- Знайдено помилок: ___
- Критичних помилок: ___

**Знайдені помилки**:
1. _______________
2. _______________
3. _______________

**Рекомендації**:
_______________
_______________
